## 文件描述符与文件

### 内核维护的3个数据结构

*. 进程级的文件描述符表
*. 系统级打开的文件描述符表
*. 文件系统的i-node 表  


对每个进程来说，内核为其维护了打开的文件的描述符表（open file descriptor）,该表的每一个条目都记录单个文件描述符的相关信息。
1. 控制文件描述符操作的一组标志（目前只定义了一个 clode-on-exec）
2. 对打开文件句柄的引用

内核对所有打开的文件维护了一个系统级的描述表，也称为打开文件表，并将表中的各个条目称为打开文件句柄，一个打开的文件句柄，存储了与打开文件相关的全部信息
1. 当前文件的偏移量
2. 打开文件时，使用的状态标志
3. 文件访问模式 （读写模式等）
4. 与信号驱动I/O相关的设置
5. 对该文件i-node 对象的引用


每个文件系统都会为其上的文件建立一个i-node 的表，每个文件的 i-node 的信息：
1. 文件类型和访问权限
2. 一个指针，指向该文件所持有的锁的列表
3. 文件的各种属性，包括文件大小以及不同类型操作相关的时间戳


## 进程
进程是由内核定义的抽象实体，并为该实体分配用以执行程序的各项系统资源。
